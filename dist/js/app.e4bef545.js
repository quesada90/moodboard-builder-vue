(function(){"use strict";var o={6906:function(o,e,a){var t=a(3751),i=a(641);function s(o,e,a,t,s,d){const n=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.Wv)(n)}var d={name:"App"},n=a(6262);const r=(0,n.A)(d,[["render",s]]);var l=r,c=a(5220),m=a(33);const g={class:"container"},h={class:"home-page"},u={class:"top-nav"},p={class:"moodboard-count"},b={class:"moodboard-grid"};function f(o,e,a,t,s,d){const n=(0,i.g2)("notification-banner"),r=(0,i.g2)("moodboard-card"),l=(0,i.g2)("edit-modal");return(0,i.uX)(),(0,i.CE)("div",g,[(0,i.bF)(n,{message:s.notification.message,type:s.notification.type,show:s.notification.show,onClose:d.closeNotification},null,8,["message","type","show","onClose"]),(0,i.Lk)("main",h,[e[4]||(e[4]=(0,i.Lk)("h1",{class:"title-h1"},"Moodboard Builder",-1)),(0,i.Lk)("div",u,[(0,i.Lk)("span",p,[(0,i.Lk)("span",null,(0,m.v_)(o.totalMoodboards),1),e[2]||(e[2]=(0,i.eW)(" moodboards"))]),(0,i.Lk)("div",{class:"alt-button share-button",onClick:e[0]||(e[0]=(...o)=>d.copyLink&&d.copyLink(...o))},e[3]||(e[3]=[(0,i.Lk)("i",{class:"fa-solid fa-link"},null,-1),(0,i.Lk)("span",{class:"tooltip"},"copy link",-1),(0,i.Lk)("span",{class:"tooltip copied-tooltip"},"link copied!",-1)]))]),(0,i.Lk)("div",b,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(d.moodboards,(o=>((0,i.uX)(),(0,i.Wv)(r,{key:o.id,moodboard:o},null,8,["moodboard"])))),128)),(0,i.bF)(r,{"is-empty-card":!0,onAddMoodboard:d.openAddMoodboardModal},null,8,["onAddMoodboard"])])]),(0,i.bF)(l,{show:s.showEditModal,"is-new":!0,onClose:e[1]||(e[1]=o=>s.showEditModal=!1),onSave:d.createMoodboard},null,8,["show","onSave"])])}a(4114);var v=a(6278);const w={class:"card-image"},k=["src","alt"],L={class:"card-title"},M={class:"title-h4"};function I(o,e,a,t,s,d){const n=(0,i.g2)("router-link");return a.isEmptyCard?((0,i.uX)(),(0,i.CE)("div",{key:1,class:"moodboard-card moodboard-card-empty",onClick:e[0]||(e[0]=e=>o.$emit("add-moodboard"))},e[3]||(e[3]=[(0,i.Fv)('<div class="card-image card-image-empty" data-v-6e776d89><span class="plus-icon" data-v-6e776d89>+</span></div><div class="card-title" data-v-6e776d89><h4 class="title-h4" data-v-6e776d89>Add moodboard</h4><i class="fa-solid fa-arrow-right" data-v-6e776d89></i></div><div class="card-line" data-v-6e776d89></div>',3)]))):((0,i.uX)(),(0,i.Wv)(n,{key:0,to:{name:"Moodboard",params:{id:a.moodboard.id}},class:"moodboard-card"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",w,[(0,i.Lk)("img",{src:a.moodboard.coverImage,alt:a.moodboard.title},null,8,k)]),(0,i.Lk)("div",L,[(0,i.Lk)("h4",M,(0,m.v_)(a.moodboard.title),1),e[1]||(e[1]=(0,i.Lk)("i",{class:"fa-solid fa-arrow-right"},null,-1))]),e[2]||(e[2]=(0,i.Lk)("div",{class:"card-line"},null,-1))])),_:1},8,["to"]))}var y={name:"MoodboardCard",props:{moodboard:{type:Object,default:null},isEmptyCard:{type:Boolean,default:!1}}};const D=(0,n.A)(y,[["render",I],["__scopeId","data-v-6e776d89"]]);var E=D;function C(o,e,a,t,s,d){return(0,i.uX)(),(0,i.CE)("div",{class:(0,m.C4)(["notification-banner",{active:a.show,"success-banner":"success"===a.type,"error-banner":"error"===a.type}])},[(0,i.Lk)("p",null,(0,m.v_)(a.message),1)],2)}var A={name:"NotificationBanner",props:{message:{type:String,default:""},type:{type:String,default:"success"},show:{type:Boolean,default:!1}},watch:{show(o){o&&setTimeout((()=>{this.$emit("close")}),5e3)}}};const x=(0,n.A)(A,[["render",C],["__scopeId","data-v-7a319ae2"]]);var N=x;const O={class:"modal-content"},$={class:"modal-top"},F={class:"modal-body"},T={class:"board-cover-section"},R={key:0,class:"plus-icon"},S=["src"],B={class:"input-section"},U=["contenteditable"],_={key:0,class:"error-message"},X={key:0,class:"button-row"},H={key:1,class:"button-row button-row-create"};function j(o,e,a,s,d,n){return(0,i.uX)(),(0,i.CE)("div",{class:(0,m.C4)(["modal edit-modal",{active:a.show}])},[(0,i.Lk)("div",O,[(0,i.Lk)("div",$,[(0,i.Lk)("i",{class:"fa-solid fa-close modal-close",onClick:e[0]||(e[0]=e=>o.$emit("close"))})]),(0,i.Lk)("div",F,[(0,i.Lk)("div",T,[e[10]||(e[10]=(0,i.Lk)("div",{class:"section-title"},"BOARD COVER",-1)),(0,i.Lk)("div",{class:(0,m.C4)(["cards-empty",{"has-cover":d.coverImage}]),onClick:e[1]||(e[1]=(...o)=>n.selectCoverImage&&n.selectCoverImage(...o))},[d.coverImage?((0,i.uX)(),(0,i.CE)("img",{key:1,src:d.coverImage,alt:"Board cover"},null,8,S)):((0,i.uX)(),(0,i.CE)("span",R,"+"))],2),(0,i.Lk)("input",{type:"file",ref:"coverImageInput",accept:"image/*",class:"hidden",onChange:e[2]||(e[2]=(...o)=>n.onCoverImageSelected&&n.onCoverImageSelected(...o))},null,544)]),(0,i.Lk)("div",B,[e[11]||(e[11]=(0,i.Lk)("div",{class:"section-title"},"MOODBOARD NAME",-1)),(0,i.Lk)("div",{class:(0,m.C4)(["input-frame",{editing:d.isEditing}])},[(0,i.Lk)("span",{class:"moodboard-name",ref:"nameInput",contenteditable:d.isEditing,onBlur:e[3]||(e[3]=(...o)=>n.finishEditing&&n.finishEditing(...o)),onKeydown:[e[4]||(e[4]=(0,t.jR)((0,t.D$)(((...o)=>n.finishEditing&&n.finishEditing(...o)),["prevent"]),["enter"])),e[5]||(e[5]=(0,t.jR)((0,t.D$)(((...o)=>n.cancelEditing&&n.cancelEditing(...o)),["prevent"]),["esc"]))]},(0,m.v_)(d.moodboardName),41,U),(0,i.Lk)("i",{class:(0,m.C4)(["fa-solid",d.isEditing?"fa-close":"fa-pen"]),onClick:e[6]||(e[6]=(...o)=>n.toggleEditing&&n.toggleEditing(...o))},null,2)],2),d.errorMessage?((0,i.uX)(),(0,i.CE)("div",_,(0,m.v_)(d.errorMessage),1)):(0,i.Q3)("",!0)])]),a.isNew?((0,i.uX)(),(0,i.CE)("div",H,[(0,i.Lk)("button",{class:"btn btn-success",onClick:e[9]||(e[9]=(...o)=>n.save&&n.save(...o))},e[14]||(e[14]=[(0,i.Lk)("span",null,"CREATE MOODBOARD",-1),(0,i.Lk)("i",{class:"fa-solid fa-arrow-right"},null,-1)]))])):((0,i.uX)(),(0,i.CE)("div",X,[(0,i.Lk)("button",{class:"btn btn-danger",onClick:e[7]||(e[7]=e=>o.$emit("delete"))},e[12]||(e[12]=[(0,i.Lk)("span",null,"DELETE MOODBOARD",-1),(0,i.Lk)("i",{class:"fa-solid fa-trash"},null,-1)])),(0,i.Lk)("button",{class:"btn btn-success",onClick:e[8]||(e[8]=(...o)=>n.save&&n.save(...o))},e[13]||(e[13]=[(0,i.Lk)("span",null,"SAVE CHANGES",-1),(0,i.Lk)("i",{class:"fa-solid fa-floppy-disk"},null,-1)]))]))])],2)}var q={name:"EditModal",props:{show:{type:Boolean,default:!1},initialName:{type:String,default:"Moodboard Title"},initialCoverImage:{type:String,default:""},isNew:{type:Boolean,default:!1}},data(){return{moodboardName:this.initialName,coverImage:this.initialCoverImage,isEditing:!1,errorMessage:""}},watch:{show(o){o&&(this.moodboardName=this.initialName,this.coverImage=this.initialCoverImage,this.errorMessage="")}},methods:{selectCoverImage(){this.$refs.coverImageInput.click()},onCoverImageSelected(o){const e=o.target.files[0];if(!e)return;const a=new FileReader;a.onload=o=>{this.coverImage=o.target.result},a.readAsDataURL(e)},toggleEditing(){this.isEditing?this.cancelEditing():this.startEditing()},startEditing(){this.isEditing=!0,this.$nextTick((()=>{const o=this.$refs.nameInput;o.focus();const e=document.createRange();e.selectNodeContents(o);const a=window.getSelection();a.removeAllRanges(),a.addRange(e)}))},cancelEditing(){this.isEditing=!1,this.$refs.nameInput.textContent=this.moodboardName,this.errorMessage=""},finishEditing(){const o=this.$refs.nameInput.textContent.trim();this.validateMoodboardName(o)?(this.moodboardName=o,this.isEditing=!1,this.errorMessage=""):(this.errorMessage="INVALID NAME! Must be longer than 2 characters and contain no special characters.",this.$refs.nameInput.textContent=this.moodboardName,this.isEditing=!1)},validateMoodboardName(o){if(o.length<3)return!1;const e=/[.,:"?&*()_+@#$%^]/;return!e.test(o)},save(){this.validateMoodboardName(this.moodboardName)?this.$emit("save",{title:this.moodboardName,coverImage:this.coverImage||"https://images.unsplash.com/photo-1520367445093-50dc08a59d9d?w=900"}):this.errorMessage="INVALID NAME! Must be longer than 2 characters and contain no special characters."}}};const Z=(0,n.A)(q,[["render",j],["__scopeId","data-v-76eb8ff7"]]);var W=Z,G={name:"HomePage",components:{MoodboardCard:E,NotificationBanner:N,EditModal:W},data(){return{showEditModal:!1,notification:{message:"",type:"success",show:!1}}},computed:{...(0,v.L8)("moodboards",["allMoodboards","totalMoodboards"]),moodboards(){return this.allMoodboards}},mounted(){"true"===this.$route.query.deleted&&(this.showNotification("Moodboard deleted","error"),this.$router.replace({query:null}))},methods:{...(0,v.i0)("moodboards",["addMoodboard"]),openAddMoodboardModal(){this.showEditModal=!0},async createMoodboard(o){try{const e=await this.addMoodboard(o);this.showEditModal=!1,this.$router.push({name:"Moodboard",params:{id:e}})}catch(e){console.error("Error creating moodboard:",e),this.showNotification("Error creating moodboard","error")}},copyLink(){navigator.clipboard.writeText(window.location.href).then((()=>{const o=document.querySelector(".share-button");o&&(o.classList.add("active"),setTimeout((()=>{o.classList.remove("active")}),3e3))})).catch((()=>{this.showNotification("Failed to copy link","error")}))},showNotification(o,e="success"){this.notification={message:o,type:e,show:!0},setTimeout((()=>{this.closeNotification()}),5e3)},closeNotification(){this.notification.show=!1}}};const z=(0,n.A)(G,[["render",f],["__scopeId","data-v-81791e52"]]);var P=z;const V={class:"container"},J={class:"moodboard-page"},Y={class:"page-header"},Q={class:"title-h1"},K={class:"moodboard-info"},oo={class:"image-counter"},eo={class:"moodboard-count"},ao={class:"header-actions"},to={key:0,class:"empty-state-message"};function io(o,e,a,t,s,d){const n=(0,i.g2)("notification-banner"),r=(0,i.g2)("router-link"),l=(0,i.g2)("image-grid"),c=(0,i.g2)("image-lightbox"),g=(0,i.g2)("delete-image-modal"),h=(0,i.g2)("upload-section"),u=(0,i.g2)("edit-modal"),p=(0,i.g2)("delete-modal");return(0,i.uX)(),(0,i.CE)("div",V,[(0,i.bF)(n,{message:s.notification.message,type:s.notification.type,show:s.notification.show,onClose:d.closeNotification},null,8,["message","type","show","onClose"]),(0,i.Lk)("main",J,[(0,i.Lk)("div",Y,[(0,i.bF)(r,{to:"/",class:"back-button"},{default:(0,i.k6)((()=>e[5]||(e[5]=[(0,i.Lk)("i",{class:"fa-solid fa-arrow-left"},null,-1)]))),_:1}),(0,i.Lk)("h1",Q,(0,m.v_)(d.moodboard.title||"Moodboard"),1)]),(0,i.Lk)("div",K,[(0,i.Lk)("div",oo,[(0,i.Lk)("span",eo,[(0,i.Lk)("span",null,(0,m.v_)(d.moodboard.images?d.moodboard.images.length:0),1),e[6]||(e[6]=(0,i.eW)(" images "))])]),(0,i.Lk)("div",ao,[(0,i.Lk)("div",{class:"alt-button edit-button",onClick:e[0]||(e[0]=(...o)=>d.openEditModal&&d.openEditModal(...o))},e[7]||(e[7]=[(0,i.Lk)("i",{class:"fa-solid fa-pencil"},null,-1),(0,i.Lk)("span",{class:"tooltip"},"edit moodboard",-1)])),(0,i.Lk)("div",{class:"alt-button download-button",onClick:e[1]||(e[1]=(...o)=>d.downloadImages&&d.downloadImages(...o))},e[8]||(e[8]=[(0,i.Lk)("i",{class:"fa-solid fa-arrow-down"},null,-1),(0,i.Lk)("span",{class:"tooltip"},"download images",-1)])),(0,i.Lk)("div",{class:"alt-button share-button",onClick:e[2]||(e[2]=(...o)=>d.copyLink&&d.copyLink(...o))},e[9]||(e[9]=[(0,i.Lk)("i",{class:"fa-solid fa-link"},null,-1),(0,i.Lk)("span",{class:"tooltip"},"copy link",-1),(0,i.Lk)("span",{class:"tooltip copied-tooltip"},"link copied!",-1)]))])]),d.moodboard.images&&0!==d.moodboard.images.length?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",to,e[10]||(e[10]=[(0,i.Lk)("p",null," This moodboard doesn't have any images yet. Add some to get started! ",-1)]))),d.moodboard.images&&d.moodboard.images.length>0?((0,i.uX)(),(0,i.Wv)(l,{key:1,images:d.moodboard.images,"moodboard-id":d.moodboardId,onUpdateImages:d.updateImages,onOpenLightbox:d.openLightbox,onConfirmDelete:d.confirmDeleteImage},null,8,["images","moodboard-id","onUpdateImages","onOpenLightbox","onConfirmDelete"])):(0,i.Q3)("",!0),(0,i.bF)(c,{show:s.showLightbox,image:s.selectedImage,onClose:d.closeLightbox},null,8,["show","image","onClose"]),(0,i.bF)(g,{show:s.showDeleteImageModal,onCancel:d.cancelDeleteImage,onConfirm:d.deleteImage},null,8,["show","onCancel","onConfirm"]),(0,i.bF)(h,{"moodboard-id":d.moodboardId,onImageAdded:d.onImageAdded},null,8,["moodboard-id","onImageAdded"])]),(0,i.bF)(u,{show:s.showEditModal,"initial-name":d.moodboard.title,"initial-cover-image":d.moodboard.coverImage,"is-new":!1,onClose:e[3]||(e[3]=o=>s.showEditModal=!1),onSave:o.updateMoodboard,onDelete:d.confirmDeleteMoodboard},null,8,["show","initial-name","initial-cover-image","onSave","onDelete"]),(0,i.bF)(p,{show:s.showDeleteModal,onCancel:e[4]||(e[4]=o=>s.showDeleteModal=!1),onConfirm:o.deleteMoodboard},null,8,["show","onConfirm"])])}const so={class:"image-grid"};function no(o,e,a,t,s,d){const n=(0,i.g2)("image-card");return(0,i.uX)(),(0,i.CE)("div",so,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.images,(o=>((0,i.uX)(),(0,i.Wv)(n,{key:o.id,image:o,"moodboard-id":a.moodboardId,onOpenLightbox:d.openLightbox,onConfirmDelete:d.confirmDelete},null,8,["image","moodboard-id","onOpenLightbox","onConfirmDelete"])))),128))])}const ro=["src","alt"],lo={class:"image-overlay"};function co(o,e,a,t,s,d){return(0,i.uX)(),(0,i.CE)("div",{class:"image-card",draggable:!0,onDragstart:e[2]||(e[2]=(...o)=>d.onDragStart&&d.onDragStart(...o)),onDragend:e[3]||(e[3]=(...o)=>d.onDragEnd&&d.onDragEnd(...o))},[(0,i.Lk)("img",{src:a.image.url,alt:a.image.alt},null,8,ro),(0,i.Lk)("div",lo,[(0,i.Lk)("button",{class:"image-action-btn zoom-btn",onClick:e[0]||(e[0]=(...o)=>d.openLightbox&&d.openLightbox(...o))},e[4]||(e[4]=[(0,i.Lk)("i",{class:"fa-solid fa-magnifying-glass"},null,-1)])),(0,i.Lk)("button",{class:"image-action-btn delete-btn",onClick:e[1]||(e[1]=(...o)=>d.confirmDelete&&d.confirmDelete(...o))},e[5]||(e[5]=[(0,i.Lk)("i",{class:"fa-solid fa-trash"},null,-1)]))])],32)}var mo={name:"ImageCard",props:{image:{type:Object,required:!0},moodboardId:{type:String,required:!0}},data(){return{isDragging:!1}},methods:{openLightbox(){this.$emit("open-lightbox",this.image)},confirmDelete(){this.$emit("confirm-delete",this.image)},onDragStart(o){this.isDragging=!0,o.dataTransfer.setData("text/plain",JSON.stringify({imageId:this.image.id,moodboardId:this.moodboardId})),setTimeout((()=>{this.$el.classList.add("dragging"),this.$el.style.opacity="0.9",this.$el.style.transform="scale(0.95)"}),0)},onDragEnd(){this.isDragging=!1,this.$el.classList.remove("dragging"),this.$el.style.opacity="",this.$el.style.transform=""}}};const go=(0,n.A)(mo,[["render",co]]);var ho=go,uo={name:"ImageGrid",components:{ImageCard:ho},props:{images:{type:Array,required:!0},moodboardId:{type:String,required:!0}},methods:{openLightbox(o){this.$emit("open-lightbox",o)},confirmDelete(o){this.$emit("confirm-delete",o)}}};const po=(0,n.A)(uo,[["render",no]]);var bo=po;const fo={class:"upload-section"},vo={class:"upload-text"},wo={class:"url-upload"},ko={key:0,class:"url-input-container"};function Lo(o,e,a,s,d,n){return(0,i.uX)(),(0,i.CE)("div",fo,[(0,i.Lk)("div",{class:"upload-box",onClick:e[1]||(e[1]=(...o)=>n.openFileUpload&&n.openFileUpload(...o)),onDragover:e[2]||(e[2]=(0,t.D$)((()=>{}),["prevent"])),onDragenter:e[3]||(e[3]=(0,t.D$)(((...o)=>n.onDragEnter&&n.onDragEnter(...o)),["prevent"])),onDragleave:e[4]||(e[4]=(0,t.D$)(((...o)=>n.onDragLeave&&n.onDragLeave(...o)),["prevent"])),onDrop:e[5]||(e[5]=(0,t.D$)(((...o)=>n.onDrop&&n.onDrop(...o)),["prevent"]))},[(0,i.Lk)("i",{class:(0,m.C4)(["fa-solid fa-arrow-up",{"drag-active":d.isDragging}])},null,2),(0,i.Lk)("p",vo,(0,m.v_)(d.isDragging?"Drop images here":"Drag & upload images"),1),(0,i.Lk)("input",{type:"file",ref:"fileInput",multiple:"",accept:"image/*",style:{display:"none"},onChange:e[0]||(e[0]=(...o)=>n.onFileSelected&&n.onFileSelected(...o))},null,544)],32),(0,i.Lk)("div",wo,[(0,i.Lk)("div",{class:"url-button",onClick:e[6]||(e[6]=o=>d.showUrlInput=!d.showUrlInput)},e[9]||(e[9]=[(0,i.Lk)("i",{class:"fa-solid fa-link"},null,-1),(0,i.Lk)("span",null,"Add URLs",-1)])),d.showUrlInput?((0,i.uX)(),(0,i.CE)("div",ko,[(0,i.Lk)("form",{onSubmit:e[8]||(e[8]=(0,t.D$)(((...o)=>n.addImageFromUrl&&n.addImageFromUrl(...o)),["prevent"]))},[(0,i.bo)((0,i.Lk)("input",{class:"url-input-field","onUpdate:modelValue":e[7]||(e[7]=o=>d.imageUrl=o),placeholder:"Paste image URL here...",required:""},null,512),[[t.Jo,d.imageUrl]]),e[10]||(e[10]=(0,i.Lk)("button",{type:"submit",class:"url-form-button"},"Add Image",-1))],32),e[11]||(e[11]=(0,i.Lk)("div",{class:"url-form-footnote"}," Add one or more URLs, separated by commas ",-1)),d.message?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,m.C4)(["url-form-message",d.messageType])},(0,m.v_)(d.message),3)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)])])}a(8111),a(2489),a(7588),a(1701);var Mo={name:"UploadSection",props:{moodboardId:{type:String,required:!0}},data(){return{isDragging:!1,showUrlInput:!1,imageUrl:"",message:"",messageType:"success"}},methods:{openFileUpload(){this.$refs.fileInput.click()},onDragEnter(){this.isDragging=!0},onDragLeave(){this.isDragging=!1},onDrop(o){this.isDragging=!1,o.dataTransfer.files.length>0&&this.handleFiles(o.dataTransfer.files)},onFileSelected(o){o.target.files.length>0&&this.handleFiles(o.target.files)},handleFiles(o){for(let e=0;e<o.length;e++){const a=o[e],t=new FileReader;t.onload=o=>{const t={id:Date.now()+e,url:o.target.result,alt:a.name};this.$emit("image-added",t)},t.readAsDataURL(a)}},addImageFromUrl(){const o=this.imageUrl.split(",").map((o=>o.trim())).filter((o=>o));if(0===o.length)return void this.showMessage("Please enter at least one valid URL","error");this.showMessage("Validating URLs...","success");let e=0;o.forEach(((a,t)=>{this.validateImageUrl(a).then((i=>{if(i){const i={id:Date.now()+t,url:a,alt:"Image from URL"};this.$emit("image-added",i),e++,t===o.length-1&&(e===o.length?this.showMessage(`Successfully added ${e} image${e>1?"s":""}`,"success"):this.showMessage(`Added ${e} image${e>1?"s":""}, but some URLs were invalid`,"success"),this.imageUrl="")}else t===o.length-1&&0===e&&this.showMessage("None of the provided URLs contain valid images","error")})).catch((()=>{t===o.length-1&&0===e&&this.showMessage("Error validating URLs. Please check your input.","error")}))}))},validateImageUrl(o){return new Promise((e=>{let a=o;if(!o.match(/^https?:\/\//i)){if(o.match(/^[a-z]+:\/\//i))return void e(!1);a="https://"+o}const t=new Image,i=setTimeout((()=>{t.src="",e(!1)}),5e3);t.onload=()=>{clearTimeout(i),e(!0)},t.onerror=()=>{clearTimeout(i),e(!1)},t.src=a}))},showMessage(o,e){this.message=o,this.messageType=e,"success"===e&&"Validating URLs..."!==o&&setTimeout((()=>{this.message=""}),5e3)}}};const Io=(0,n.A)(Mo,[["render",Lo]]);var yo=Io;const Do={class:"modal-content delete-confirm-content"},Eo={class:"button-row"};function Co(o,e,a,t,s,d){return(0,i.uX)(),(0,i.CE)("div",{class:(0,m.C4)(["modal delete-confirm-modal",{active:a.show}])},[(0,i.Lk)("div",Do,[e[2]||(e[2]=(0,i.Lk)("h3",null,"Are you sure?",-1)),e[3]||(e[3]=(0,i.Lk)("p",null," Are you sure you want to delete this moodboard? This action cannot be undone. ",-1)),(0,i.Lk)("div",Eo,[(0,i.Lk)("button",{class:"btn btn-secondary",onClick:e[0]||(e[0]=e=>o.$emit("cancel"))}," GO BACK "),(0,i.Lk)("button",{class:"btn btn-danger",onClick:e[1]||(e[1]=e=>o.$emit("confirm"))}," YES, DELETE ")])])],2)}var Ao={name:"DeleteModal",props:{show:{type:Boolean,default:!1}}};const xo=(0,n.A)(Ao,[["render",Co]]);var No=xo;const Oo={class:"lightbox-content"},$o=["src","alt"];function Fo(o,e,a,t,s,d){return(0,i.uX)(),(0,i.CE)("div",{class:(0,m.C4)(["lightbox",{active:a.show}])},[(0,i.Lk)("div",Oo,[(0,i.Lk)("div",{class:"lightbox-close",onClick:e[0]||(e[0]=e=>o.$emit("close"))},e[1]||(e[1]=[(0,i.Lk)("i",{class:"fa-solid fa-close"},null,-1)])),(0,i.Lk)("img",{src:a.image&&a.image.url,alt:a.image&&a.image.alt,id:"lightbox-image"},null,8,$o)])],2)}var To={name:"ImageLightbox",props:{show:{type:Boolean,default:!1},image:{type:Object,default:null}},watch:{show(o){document.body.style.overflow=o?"hidden":""}}};const Ro=(0,n.A)(To,[["render",Fo]]);var So=Ro;const Bo={class:"modal-content"},Uo={class:"button-row"};function _o(o,e,a,t,s,d){return(0,i.uX)(),(0,i.CE)("div",{class:(0,m.C4)(["modal delete-image-modal",{active:a.show}])},[(0,i.Lk)("div",Bo,[e[2]||(e[2]=(0,i.Lk)("h3",null,"Delete Image?",-1)),e[3]||(e[3]=(0,i.Lk)("p",null," Are you sure you want to delete this image? This action cannot be undone. ",-1)),(0,i.Lk)("div",Uo,[(0,i.Lk)("button",{class:"btn btn-secondary",onClick:e[0]||(e[0]=e=>o.$emit("cancel"))}," CANCEL "),(0,i.Lk)("button",{class:"btn btn-danger",onClick:e[1]||(e[1]=e=>o.$emit("confirm"))},"DELETE")])])],2)}var Xo={name:"DeleteImageModal",props:{show:{type:Boolean,default:!1}}};const Ho=(0,n.A)(Xo,[["render",_o]]);var jo=Ho,qo={name:"MoodboardPage",components:{ImageGrid:bo,UploadSection:yo,NotificationBanner:N,EditModal:W,DeleteModal:No,ImageLightbox:So,DeleteImageModal:jo},props:{id:{type:String,required:!0}},data(){return{showEditModal:!1,showDeleteModal:!1,showLightbox:!1,showDeleteImageModal:!1,selectedImage:null,imageToDelete:null,notification:{message:"",type:"success",show:!1}}},computed:{...(0,v.L8)("moodboards",["moodboardById"]),moodboardId(){return this.id},moodboard(){const o=this.moodboardById(this.moodboardId);return o||{title:"Not Found",images:[]}}},methods:{...(0,v.i0)("moodboards",["updateMoodboard","deleteMoodboard","addImage","deleteImage","reorderImages"]),openEditModal(){this.showEditModal=!0},confirmDeleteMoodboard(){this.showEditModal=!1,this.showDeleteModal=!0},async deleteMoodboardConfirm(){try{await this.deleteMoodboard(this.moodboardId),this.showDeleteModal=!1,this.$router.push({path:"/",query:{deleted:"true"}})}catch(o){console.error("Error deleting moodboard:",o),this.showNotification("Error deleting moodboard","error")}},updateImages(o){this.reorderImages({moodboardId:this.moodboardId,newOrder:o})},onImageAdded(o){this.addImage({moodboardId:this.moodboardId,image:o}),this.showNotification("Image added successfully")},openLightbox(o){this.selectedImage=o,this.showLightbox=!0},closeLightbox(){this.showLightbox=!1,this.selectedImage=null},confirmDeleteImage(o){this.imageToDelete=o,this.showDeleteImageModal=!0},cancelDeleteImage(){this.showDeleteImageModal=!1,this.imageToDelete=null},deleteImage(){this.imageToDelete&&(this.deleteImage({moodboardId:this.moodboardId,imageId:this.imageToDelete.id}),this.showDeleteImageModal=!1,this.imageToDelete=null,this.showNotification("Image deleted","error"))},downloadImages(){if(!this.moodboard.images||0===this.moodboard.images.length)return void this.showNotification("No images to download","error");const o=document.createElement("a");o.href=this.moodboard.images[0].url,o.download=`${this.moodboard.title}-image.jpg`,document.body.appendChild(o),o.click(),document.body.removeChild(o),this.showNotification("Download started")},copyLink(){navigator.clipboard.writeText(window.location.href).then((()=>{const o=document.querySelector(".share-button");o&&(o.classList.add("active"),setTimeout((()=>{o.classList.remove("active")}),3e3))})).catch((()=>{this.showNotification("Failed to copy link","error")}))},showNotification(o,e="success"){this.notification={message:o,type:e,show:!0}},closeNotification(){this.notification.show=!1}}};const Zo=(0,n.A)(qo,[["render",io]]);var Wo=Zo;const Go={class:"container"},zo={class:"moodboard-page"},Po={class:"page-header"},Vo={class:"moodboard-info"},Jo={class:"header-actions"};function Yo(o,e,a,t,s,d){const n=(0,i.g2)("notification-banner"),r=(0,i.g2)("router-link"),l=(0,i.g2)("upload-section"),c=(0,i.g2)("edit-modal");return(0,i.uX)(),(0,i.CE)("div",Go,[(0,i.bF)(n,{message:s.notification.message,type:s.notification.type,show:s.notification.show,onClose:d.closeNotification},null,8,["message","type","show","onClose"]),(0,i.Lk)("main",zo,[(0,i.Lk)("div",Po,[(0,i.bF)(r,{to:"/",class:"back-button"},{default:(0,i.k6)((()=>e[2]||(e[2]=[(0,i.Lk)("i",{class:"fa-solid fa-arrow-left"},null,-1)]))),_:1}),e[3]||(e[3]=(0,i.Lk)("h1",{class:"title-h1"},"New moodboard",-1))]),(0,i.Lk)("div",Vo,[e[5]||(e[5]=(0,i.Lk)("div",{class:"image-counter"},[(0,i.Lk)("span",{class:"moodboard-count"},[(0,i.Lk)("span",null,"0"),(0,i.eW)(" images")])],-1)),(0,i.Lk)("div",Jo,[(0,i.Lk)("div",{class:"alt-button edit-button",onClick:e[0]||(e[0]=(...o)=>d.openEditModal&&d.openEditModal(...o))},e[4]||(e[4]=[(0,i.Lk)("i",{class:"fa-solid fa-pencil"},null,-1),(0,i.Lk)("span",{class:"tooltip"},"edit moodboard",-1)]))])]),e[6]||(e[6]=(0,i.Lk)("div",{class:"empty-state-message",style:{display:"block"}},[(0,i.Lk)("p",null," This moodboard doesn't have any images yet. Add some to get started! ")],-1)),(0,i.bF)(l,{"moodboard-id":s.tempMoodboardId,onImageAdded:d.onImageAdded},null,8,["moodboard-id","onImageAdded"])]),(0,i.bF)(c,{show:s.showEditModal,"initial-name":s.moodboardName,"initial-cover-image":s.coverImage,"is-new":!0,onClose:e[1]||(e[1]=o=>s.showEditModal=!1),onSave:d.createMoodboard},null,8,["show","initial-name","initial-cover-image","onSave"])])}var Qo={name:"NewMoodboardPage",components:{NotificationBanner:N,UploadSection:yo,EditModal:W},data(){return{showEditModal:!1,moodboardName:"New Moodboard",coverImage:"",tempMoodboardId:"temp-"+Date.now(),tempImages:[],notification:{message:"",type:"success",show:!1}}},methods:{...(0,v.i0)("moodboards",["addMoodboard","addImage"]),openEditModal(){this.showEditModal=!0},async createMoodboard(o){try{const e=await this.addMoodboard({...o,images:this.tempImages});this.showEditModal=!1,this.$router.push({name:"Moodboard",params:{id:e}})}catch(e){console.error("Error creating moodboard:",e),this.showNotification("Error creating moodboard","error")}},onImageAdded(o){this.tempImages.push(o),this.showNotification("Image added successfully")},showNotification(o,e="success"){this.notification={message:o,type:e,show:!0}},closeNotification(){this.notification.show=!1}}};const Ko=(0,n.A)(Qo,[["render",Yo]]);var oe=Ko;const ee=[{path:"/",name:"Home",component:P},{path:"/moodboard/:id",name:"Moodboard",component:Wo,props:!0},{path:"/new-moodboard",name:"NewMoodboard",component:oe}],ae=(0,c.aE)({history:(0,c.LA)("/"),routes:ee});var te=ae,ie=a(406),se=(a(116),{namespaced:!0,state:{list:[{id:"urban-sports",title:"Urban Sports",coverImage:"https://plus.unsplash.com/premium_photo-1681494703620-7bed31293c6a?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8ZmFzaGlvbiUyMHN0cmVldHxlbnwwfHwwfHx8MA%3D%3D",images:[{id:1,url:"https://plus.unsplash.com/premium_photo-1681494700976-861938fe0513?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTN8fGZhc2hpb24lMjBzdHJlZXR8ZW58MHx8MHx8fDA%3D",alt:"Yellow outfit"},{id:2,url:"https://images.unsplash.com/photo-1520367445093-50dc08a59d9d?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fGZhc2hpb24lMjBzdHJlZXR8ZW58MHx8MHx8fDA%3D",alt:"Fashion photo"}]},{id:"hip-hop",title:"Hip Hop",coverImage:"https://images.unsplash.com/photo-1532332248682-206cc786359f?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fGZhc2hpb24lMjBzdHJlZXR8ZW58MHx8MHx8fDA%3D",images:[]},{id:"casual-style",title:"Casual Style",coverImage:"https://images.unsplash.com/photo-1528120369764-0423708119ae?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NzJ8fGZhc2hpb24lMjBzdHJlZXR8ZW58MHx8MHx8fDA%3D",images:[]}]},getters:{allMoodboards:o=>o.list,moodboardById:o=>e=>o.list.find((o=>o.id===e)),totalMoodboards:o=>o.list.length},mutations:{ADD_MOODBOARD(o,e){o.list.push(e)},DELETE_MOODBOARD(o,e){o.list=o.list.filter((o=>o.id!==e))},UPDATE_MOODBOARD(o,{id:e,updates:a}){const t=o.list.findIndex((o=>o.id===e));-1!==t&&(o.list[t]={...o.list[t],...a})},ADD_IMAGE(o,{moodboardId:e,image:a}){const t=o.list.find((o=>o.id===e));t&&t.images.push(a)},DELETE_IMAGE(o,{moodboardId:e,imageId:a}){const t=o.list.find((o=>o.id===e));t&&(t.images=t.images.filter((o=>o.id!==a)))},REORDER_IMAGES(o,{moodboardId:e,newOrder:a}){const t=o.list.find((o=>o.id===e));t&&(t.images=a)}},actions:{addMoodboard({commit:o},e){const a=e.title.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"");return o("ADD_MOODBOARD",{...e,id:a,images:[]}),a},deleteMoodboard({commit:o},e){o("DELETE_MOODBOARD",e)},updateMoodboard({commit:o},{id:e,updates:a}){o("UPDATE_MOODBOARD",{id:e,updates:a})},addImage({commit:o},{moodboardId:e,image:a}){const t={...a,id:Date.now()};return o("ADD_IMAGE",{moodboardId:e,image:t}),t.id},deleteImage({commit:o},{moodboardId:e,imageId:a}){o("DELETE_IMAGE",{moodboardId:e,imageId:a})},reorderImages({commit:o},{moodboardId:e,newOrder:a}){o("REORDER_IMAGES",{moodboardId:e,newOrder:a})}}}),de=(0,v.y$)({modules:{moodboards:se},plugins:[(0,ie.A)({key:"moodboard-builder",paths:["moodboards.list"]})]}),ne=a(3723);(0,ne.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(o){console.error("Error during service worker registration:",o)}}),(0,t.Ef)(l).use(de).use(te).mount("#app")}},e={};function a(t){var i=e[t];if(void 0!==i)return i.exports;var s=e[t]={exports:{}};return o[t].call(s.exports,s,s.exports,a),s.exports}a.m=o,function(){var o=[];a.O=function(e,t,i,s){if(!t){var d=1/0;for(c=0;c<o.length;c++){t=o[c][0],i=o[c][1],s=o[c][2];for(var n=!0,r=0;r<t.length;r++)(!1&s||d>=s)&&Object.keys(a.O).every((function(o){return a.O[o](t[r])}))?t.splice(r--,1):(n=!1,s<d&&(d=s));if(n){o.splice(c--,1);var l=i();void 0!==l&&(e=l)}}return e}s=s||0;for(var c=o.length;c>0&&o[c-1][2]>s;c--)o[c]=o[c-1];o[c]=[t,i,s]}}(),function(){a.d=function(o,e){for(var t in e)a.o(e,t)&&!a.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:e[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){a.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)}}(),function(){var o={524:0};a.O.j=function(e){return 0===o[e]};var e=function(e,t){var i,s,d=t[0],n=t[1],r=t[2],l=0;if(d.some((function(e){return 0!==o[e]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(r)var c=r(a)}for(e&&e(t);l<d.length;l++)s=d[l],a.o(o,s)&&o[s]&&o[s][0](),o[s]=0;return a.O(c)},t=self["webpackChunkmoodboard_builder_vue"]=self["webpackChunkmoodboard_builder_vue"]||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))}();var t=a.O(void 0,[504],(function(){return a(6906)}));t=a.O(t)})();
//# sourceMappingURL=app.e4bef545.js.map